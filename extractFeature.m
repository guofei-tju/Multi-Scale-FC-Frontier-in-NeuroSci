% load aal333
% 20180628

posiSam = [];
nageSam = [];

% 20180628
% for psi = 1 : 29
%     posiSam(psi,:) = [];
% end
% for ngi = 1 : 31
%     nageSam(ngi,:) = [];
% end

aalList = getAAL333List();

load posiSam01
posiSam(1,:) = featureFac(vols);
% posiSam(11,11,11,111,1)
% avgMNList(:,:,1) = getAvgMtxMN(vols, aalList);
1
load posiSam02
posiSam(2,:) = featureFac(vols);
% posiSam(:,:,:,:,2) = vols;
% posiSam(11,11,11,111,2)
% avgMNList(:,:,2) = getAvgMtxMN(vols, aalList);
2
load posiSam03
posiSam(3,:) = featureFac(vols);
% posiSam(:,:,:,:,3) = vols;
% posiSam(11,11,11,111,3)
3
load posiSam04
posiSam(4,:) = featureFac(vols);
% posiSam(:,:,:,:,4) = vols;
% posiSam(11,11,11,111,4)
4
load posiSam06
posiSam(5,:) = featureFac(vols);
% posiSam(:,:,:,:,5) = vols;
% posiSam(11,11,11,111,6)
5
load posiSam08
posiSam(6,:) = featureFac(vols);
% posiSam(:,:,:,:,6) = vols;
% posiSam(11,11,11,111,8)
load posiSam10
posiSam(7,:) = featureFac(vols);
% posiSam(:,:,:,:,7) = vols;
load posiSam11
posiSam(8,:) = featureFac(vols);
% posiSam(:,:,:,:,8) = vols;
load posiSam13
posiSam(9,:) = featureFac(vols);
% posiSam(:,:,:,:,9) = vols;
load posiSam14
posiSam(10,:) = featureFac(vols);
% posiSam(:,:,:,:,10) = vols;
10
load posiSam15
posiSam(11,:) = featureFac(vols);
% posiSam(:,:,:,:,11) = vols;
load posiSam18
posiSam(12,:) = featureFac(vols);
% posiSam(:,:,:,:,12) = vols;
load posiSam19
posiSam(13,:) = featureFac(vols);
% posiSam(:,:,:,:,13) = vols;
load posiSam20
posiSam(14,:) = featureFac(vols);
% posiSam(:,:,:,:,14) = vols;
load posiSam21
posiSam(15,:) = featureFac(vols);
% posiSam(:,:,:,:,15) = vols;
15
load posiSam22
posiSam(16,:) = featureFac(vols);
% posiSam(:,:,:,:,16) = vols;
load posiSam23
posiSam(17,:) = featureFac(vols);
% posiSam(:,:,:,:,17) = vols;
load posiSam25
posiSam(18,:) = featureFac(vols);
% posiSam(:,:,:,:,18) = vols;
load posiSam26
posiSam(19,:) = featureFac(vols);
% posiSam(:,:,:,:,19) = vols;
load posiSam27
posiSam(20,:) = featureFac(vols);
% posiSam(:,:,:,:,20) = vols;
20
load posiSam28
posiSam(21,:) = featureFac(vols);
% posiSam(:,:,:,:,21) = vols;
load posiSam29
posiSam(22,:) = featureFac(vols);
% posiSam(:,:,:,:,22) = vols;
load posiSam30
posiSam(23,:) = featureFac(vols);
% posiSam(:,:,:,:,23) = vols;
load posiSam31
posiSam(24,:) = featureFac(vols);
% posiSam(:,:,:,:,24) = vols;
load posiSam32
posiSam(25,:) = featureFac(vols);
% posiSam(:,:,:,:,25) = vols;
25
load posiSam33
posiSam(26,:) = featureFac(vols);
% posiSam(:,:,:,:,26) = vols;
load posiSam34
posiSam(27,:) = featureFac(vols);
% posiSam(:,:,:,:,27) = vols;
load posiSam35
posiSam(28,:) = featureFac(vols);
% posiSam(:,:,:,:,28) = vols;
load posiSam37
posiSam(29,:) = featureFac(vols);
% posiSam(:,:,:,:,29) = vols;

%
% save posiList.mat posiSam
%

2
load nageSam40
nageSam(1,:) = featureFac(vols);
% nageSam(:,:,:,:,1) = vols;
load nageSam41
nageSam(2,:) = featureFac(vols);
% nageSam(:,:,:,:,2) = vols;
load nageSam42
nageSam(3,:) = featureFac(vols);
% nageSam(:,:,:,:,3) = vols;
load nageSam43
nageSam(4,:) = featureFac(vols);
% nageSam(:,:,:,:,4) = vols;
load nageSam44
nageSam(5,:) = featureFac(vols);
% nageSam(:,:,:,:,5) = vols;
2.5
load nageSam46
nageSam(6,:) = featureFac(vols);
% nageSam(:,:,:,:,6) = vols;
load nageSam47
nageSam(7,:) = featureFac(vols);
% nageSam(:,:,:,:,7) = vols;
load nageSam50
nageSam(8,:) = featureFac(vols);
% nageSam(:,:,:,:,8) = vols;
load nageSam51
nageSam(9,:) = featureFac(vols);
% nageSam(:,:,:,:,9) = vols;
load nageSam53
nageSam(10,:) = featureFac(vols);
% nageSam(:,:,:,:,10) = vols;
2.1
load nageSam54
nageSam(11,:) = featureFac(vols);
% nageSam(:,:,:,:,11) = vols;
load nageSam55
nageSam(12,:) = featureFac(vols);
% nageSam(:,:,:,:,12) = vols;
load nageSam56
nageSam(13,:) = featureFac(vols);
% nageSam(:,:,:,:,13) = vols;
load nageSam57
nageSam(14,:) = featureFac(vols);
% nageSam(:,:,:,:,14) = vols;
load nageSam58
nageSam(15,:) = featureFac(vols);
% nageSam(:,:,:,:,15) = vols;
2.15
load nageSam60
nageSam(16,:) = featureFac(vols);
% nageSam(:,:,:,:,16) = vols;
load nageSam61
nageSam(17,:) = featureFac(vols);
% nageSam(:,:,:,:,17) = vols;
load nageSam62
nageSam(18,:) = featureFac(vols);
% nageSam(:,:,:,:,18) = vols;
load nageSam63
nageSam(19,:) = featureFac(vols);
% nageSam(:,:,:,:,19) = vols;
load nageSam64
nageSam(20,:) = featureFac(vols);
% nageSam(:,:,:,:,20) = vols;
2.2
load nageSam65
nageSam(21,:) = featureFac(vols);
% nageSam(:,:,:,:,21) = vols;
load nageSam66
nageSam(22,:) = featureFac(vols);
% nageSam(:,:,:,:,22) = vols;
load nageSam67
nageSam(23,:) = featureFac(vols);
% nageSam(:,:,:,:,23) = vols;
load nageSam69
nageSam(24,:) = featureFac(vols);
% nageSam(:,:,:,:,24) = vols;
load nageSam70
nageSam(25,:) = featureFac(vols);
% nageSam(:,:,:,:,25) = vols;
2.25
load nageSam72
nageSam(26,:) = featureFac(vols);
% nageSam(:,:,:,:,26) = vols;
load nageSam74
nageSam(27,:) = featureFac(vols);
% nageSam(:,:,:,:,27) = vols;
load nageSam76
nageSam(28,:) = featureFac(vols);
% nageSam(:,:,:,:,28) = vols;
load nageSam78
nageSam(29,:) = featureFac(vols);
% nageSam(:,:,:,:,29) = vols;
load nageSam79
nageSam(30,:) = featureFac(vols);
% nageSam(:,:,:,:,30) = vols;
load nageSam80
nageSam(31,:) = featureFac(vols);
% nageSam(:,:,:,:,31) = vols;

%
% save nageList.mat nageSam
%

label = [];
for posiNum = 1 : 29
    label = [label; [1]];
end
for nageNum = 1 : 31
    label = [label; [-1]];
end

% trains = [zscore(posiSam); zscore(nageSam)]; % 2 xuan 1
trains = [posiSam; nageSam];
save trains1.mat trains;

trains = [zscore(posiSam); zscore(nageSam)];

% todo
% for 
%end todo


result = [];

cmd = ['-c 1 -t 0 -b 1'];
for index = 1 : 60
    lab = label;
    lab(index, :) = [];
    tra = trains;
    tra(index, :) = [];
    model = svmtrain(lab,tra,cmd);
    
    [predicted_label, accuracy, decision_scores] = svmpredict(label(index, 1), trains(index, :), model, '-b 1')
    result = [result; predicted_label];
end

t = 0;
for i = 1 : 60
    if label(i,1) - result(i,1) == 0
        t = t+1;
    end
end

myAcc = t/60

% [bestacc,bestc,bestg] = SVMcg(label, [posiSam; nageSam], 0.05, 0.45, 0, 0.2, 60, 0.1, 0.04, 0.002, 2 )


